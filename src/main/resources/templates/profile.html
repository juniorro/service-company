<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="menu">
<body>
	<div layout:fragment="mainpage">
		<div class="container bootstrap snippet">
			<div class="row" style="margin-top: 150px;">
				<div th:if="${updatedUser != null}" class="alert alert-success"
					role="alert">
					<strong>Profile updated successfully.</strong>
				</div>
				<div th:if="${resetMessage != null}" class="alert alert-success"
					role="alert">
					<strong>Password updated successfully.</strong>
				</div>
				<div th:if="${errorpassword != null}" class="alert alert-danger"
					role="alert">
					<strong>Passwords do not match.</strong>
				</div>
				<div th:if="${errorpass != null}" class="alert alert-danger"
					role="alert">
					<strong>Field cannot be empty.</strong>
				</div>
				<div class="col-lg-3 col-md-3 hidden-sm hidden-xs">
					<div class="panel panel-default">
						<div class="panel-body">
							<div class="media">
								<div align="center">
									<img class="thumbnail img-responsive"
										th:src="@{/assets/img/user/}+${systemUser.id}+'.png'"
										alt="user Photo" width="300px" height="300px" />
								</div>
								<div class="media-body">
									<hr></hr>
									<h3>
										<strong>Profile</strong>
									</h3>
									<ul class="list-group">
										<li class="list-group-item text-right"><span
											class="pull-left"><strong>First Name</strong></span><span
											th:text="${systemUser.firstName}"></span></li>
										<li class="list-group-item text-right"><span
											class="pull-left"><strong>Last Name</strong></span><span
											th:text="${systemUser.lastName}"></span></li>
										<li class="list-group-item text-right"><span
											class="pull-left"><strong>Username</strong></span><span
											th:text="${systemUser.username}"></span></li>
									</ul>
									<hr></hr>
									<h3>
										<strong>Activity</strong>
									</h3>
									<ul class="list-group">
										<li class="list-group-item text-right"><span
											class="pull-left"><strong>Joined On</strong></span><span
											th:text="${systemUser.joinDate}"></span></li>
										<li class="list-group-item text-right"><span
											class="pull-left"><strong>Last Sign In</strong></span><span
											th:text="${systemUser.lastSignIn}"></span></li>
									</ul>
								</div>
							</div>
						</div>
					</div>
				</div>




				<div class="col-sm-9">
					<ul class="nav nav-tabs" id="myTab">
						<li class="active"><a href="#settings" data-toggle="tab">Settings</a></li>
					</ul>
					<div class="tab-content">
						<div class="tab-pane active" id="settings">
							<form class="form" method="post" th:action="@{/updateUser}"
								th:object="${systemUser}" enctype="multipart/form-data"
								id="registrationForm">
								<input type="hidden" th:field="*{id}" /> <input type="hidden"
									th:field="*{password}" /> <input type="hidden"
									th:field="*{lastSignIn}" /> <input type="hidden"
									th:field="*{joinDate}" /> <input type="hidden"
									th:field="*{enabled}" />
								<div class="form-group">
									<div class="col-xs-6">
										<label for="first_name"><h4>First name</h4></label> <b><span
											th:errors="*{firstName}" class="text-danger"></span></b> <input
											type="text" th:field="*{firstName}" class="form-control"
											name="name" id="name" placeholder="First Name" />
									</div>
								</div>
								<div class="form-group">
									<div class="col-xs-6">
										<label for="last_name"><h4>Last name</h4></label> <b><span
											th:errors="*{lastName}" class="text-danger"></span></b> <input
											type="text" th:field="*{lastName}" class="form-control"
											name="name" id="name" placeholder="Last Name" />
									</div>
								</div>
								<div class="form-group">
									<div class="col-xs-6">
										<label for="email"><h4>Username</h4></label> <b><span
											th:errors="*{username}" class="text-danger"></span></b> <input
											type="text" th:field="*{username}" class="form-control"
											name="email" id="email" placeholder="Gender" />
									</div>
								</div>
								<div class="form-group">
									<div class="col-xs-6">
										<label for="phone"><h4>Phone</h4></label> <input type="text"
											th:field="*{phone}" class="form-control" name="email"
											id="email" placeholder="Phone" />
									</div>
								</div>
								<div class="form-group">
									<div class="col-xs-6">
										<label for="mobile"><h4>Street Address</h4></label> <input
											type="text" th:field="*{streetAddress}" class="form-control"
											name="email" id="email" placeholder="Street Address" />
									</div>
								</div>
								<div class="form-group">
									<div class="col-xs-6">
										<label for="email"><h4>Email</h4></label> <b><span
											th:errors="*{email}" class="text-danger"></span></b> <input
											type="text" th:field="*{email}" class="form-control"
											name="email" id="email" placeholder="Email Address" />
									</div>
								</div>
								<div class="form-group">
									<div class="col-xs-6">
										<label for="email"><h4>City</h4></label> <input type="text"
											th:field="*{city}" class="form-control" name="email"
											id="email" placeholder="City" />
									</div>
								</div>
								<div class="form-group">
									<div class="col-xs-6">
										<label for="password"><h4>Profile Picture</h4></label> <input
											type="file" th:field="*{profilePhoto}" class="form-control"
											name="email" id="email" placeholder="Password" />
									</div>
								</div>
								<div class="form-group">
									<div class="col-xs-6">
										<label for="password2"><h4>Zip Code</h4></label> <input
											type="text" th:field="*{zipCode}" class="form-control"
											name="email" id="email" placeholder="Email Address" />
									</div>
								</div>
								<div class="form-group">
									<div class="col-xs-6">
										<label for="email"><h4>Gender</h4></label> <select
											th:field="*{gender}" class="form-control">
											<option value="male">male</option>
											<option value="female">female</option>
											<option value="other">other</option>
										</select>
									</div>
								</div>
								<div class="form-group">
									<div class="col-xs-12">
										<br></br>
										<button class="btn btn-lg btn-success" type="submit">
											<i class="glyphicon glyphicon-ok-sign"></i> Update
										</button>
									</div>
								</div>
							</form>
							<div class="form-group">
								<div class="col-xs-12">
									<br></br>
									<button data-toggle="modal" data-target=".myModalAdd"
										class="btn btn-lg btn-success">
										<i class="glyphicon glyphicon-lock"></i>Reset Password
									</button>
								</div>
							</div>
						</div>
					</div>
				</div>




				<div class="fade modal myModalAdd">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal"
									aria-hidden="true"></button>
								<h2 class="modal-title" id="myModalLabel">New Service
									Request</h2>
							</div>
							<div class="modal-body">
								<form th:action="@{/updatePassword}" method="post"
									class="form-horizontal">
									<fieldset>
										<!-- Form Name -->
										<!-- Prepended text-->
										<div class="form-group">
											<label class="col-md-4 control-label" for="prependedtext">New
												Password</label>
											<div class="col-md-5">
												<div class="input-group">
													<input type="password" name="newPassword"
														placeholder="New Password" class="form-control input-md" />
													<span class="input-group-addon"> <span
														class="glyphicon glyphicon-lock"></span>
													</span>
												</div>
											</div>
										</div>

										<div class="form-group">
											<label class="col-md-4 control-label" for="prependedtext">Re-type
												Password</label>
											<div class="col-md-5">
												<div class="input-group">
													<input type="password" name="confirmPassword"
														placeholder="Re-type Password"
														class="form-control input-md" /> <span
														class="input-group-addon"> <span
														class="glyphicon glyphicon-lock"></span>
													</span>
												</div>
											</div>
										</div>


										<div class="modal-footer">
											<button type="button" class="btn btn-secondary"
												data-dismiss="modal">Close</button>
											<button type="submit" class="btn btn-primary">Save
												changes</button>
										</div>
										<!-- Button -->
									</fieldset>
								</form>
							</div>
						</div>
					</div>
				</div>


			</div>
		</div>

	</div>
</body>
</html>